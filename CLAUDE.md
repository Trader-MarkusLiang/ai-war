# Claude AI 项目规则

## Git 工作流规则

### 提交规范
- 使用清晰、简洁的提交信息
- 遵循约定式提交格式：`<type>(<scope>): <subject>`
- 类型包括：feat, fix, docs, style, refactor, test, chore
- 示例：`feat(trader): 添加 Binance 交易所支持`

### 分支管理
- 主分支：`main` - 生产环境稳定代码
- 开发分支：`dev` - 开发环境代码
- 功能分支：`feat/功能描述` - 从 dev 检出
- 修复分支：`hotfix/问题描述` - 从 dev 检出
- 分支命名使用小写字母和连字符

### 代码审查
- 所有合并到主分支的代码必须经过 Pull Request
- PR 必须包含清晰的描述和测试说明
- 代码审查关注：功能正确性、代码质量、安全性

### 禁止操作
- 禁止直接推送到 main 分支
- 禁止 force push 到共享分支
- 禁止提交敏感信息（密钥、密码、token）
- 禁止提交二进制文件和编译产物

## 开发测试工作流规范

### 1. 需求理解阶段
- **拆解需求**：将用户需求拆解为具体的功能点和技术要求
- **明确边界**：确定功能范围、输入输出、边界条件
- **识别依赖**：分析涉及的模块、文件、第三方库
- **提出疑问**：对不明确的需求主动向用户确认

### 2. 代码探索阶段
- **阅读相关代码**：使用 Read 工具阅读所有相关文件
- **理解架构**：了解项目结构、模块关系、数据流
- **查找相似实现**：寻找类似功能的实现作为参考
- **识别修改点**：确定需要修改或新增的具体位置

### 3. 方案设计阶段
- **制定实现方案**：详细说明实现步骤和技术选型
- **评估影响范围**：分析对现有代码的影响
- **设计测试策略**：规划如何验证功能正确性
- **征求用户意见**：复杂功能使用 AskUserQuestion 确认方案

### 4. 代码实现阶段
- **使用 TodoWrite 跟踪进度**：将实现步骤拆解为待办事项
- **逐步实现**：按照计划逐个完成功能点
- **保持代码风格一致**：遵循项目现有的编码规范
- **及时标记完成**：每完成一个任务立即更新状态

### 5. 测试验证阶段
- **单元测试**：为新增功能编写测试用例
- **集成测试**：验证与其他模块的协作
- **边界测试**：测试异常情况和边界条件
- **回归测试**：确保未破坏现有功能

### 6. 代码审查阶段
- **自我审查**：检查代码质量、安全性、性能
- **文档更新**：更新相关文档和注释
- **提交说明**：编写清晰的 commit message
- **创建 PR**：提供详细的变更说明和测试结果

### 开发注意事项
- 禁止未经理解就修改代码
- 禁止跳过测试直接提交
- 禁止过度设计和添加未要求的功能
- 禁止忽略错误处理和边界情况
